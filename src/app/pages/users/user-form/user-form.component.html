<form [formGroup]="userForm" (submit)="submitAdd(userForm.value)" [dir]="'dir'|translate">
  <div class="container-fluid">
    <div class="grid p-fluid">

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'name'|translate}}</label>
        <small class="p-error"
          *ngIf="vf['name'].errors && vf['name'].errors['required']"><span>&nbsp;*</span></small>
          <input pInputText type="text" class="p-inputtext-md" formControlName="name"  autofocus>
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'username'|translate}}</label>
        <small class="ng-dirty ng-invalid p-error"
          *ngIf="vf['username'].errors && vf['username'].errors['required']"><span>&nbsp;*</span></small>
        <small class="ng-dirty ng-invalid p-error"
          *ngIf="vf['username'].errors && vf['username'].errors['minlength']">{{'four_characters_minimum'|translate}}</small>
        <input pInputText type="text" class="p-inputtext-md" formControlName="username">
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'password'|translate}}</label>
        <small class="ng-dirty ng-invalid p-error"
          *ngIf="vf['password'].errors && vf['password'].errors['required']"><span>&nbsp;*</span></small>
        <input pInputText type="password" class="p-inputtext-md" formControlName="password">
        <small class="ng-dirty ng-invalid p-error"
          *ngIf="vf['password'].errors && vf['password'].errors['minlength']">{{'five_characters_minimum'|translate}}</small>
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'confirm_password'|translate}}</label>
        <small class="ng-dirty ng-invalid p-error"
          *ngIf="vf['password'].errors && vf['password'].errors['required']"><span>&nbsp;*</span></small>
        <input pInputText type="password" class="p-inputtext-md" formControlName="confirm_password" required>
        <small class="ng-dirty ng-invalid p-error"
          *ngIf="vf['confirm_password'].errors && vf['confirm_password'].errors['mustMatch']">
          {{'five_characters_minimum'|translate}}
        </small>
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'user_group'|translate}}</label>
        <p-autoComplete formControlName="user_group_id" [suggestions]="filteredUserGroups"
          (completeMethod)="filterUserGroups($event)" field="name" [dropdown]="true">
        </p-autoComplete>
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'code'|translate}}</label>
        <input pInputText type="text" class="p-inputtext-md" formControlName="code">
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'email'|translate}}</label>
        <input pInputText type="text" class="p-inputtext-md" formControlName="email">
        <small class="ng-dirty ng-invalid p-error"
          *ngIf="vf['email'].errors && vf['email'].errors['email']">{{'wrong_email_address'|translate}}
        </small>
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'commission'|translate}}</label>
        <p-inputNumber class="p-inputnumber-md" [useGrouping]="false" [minFractionDigits]="3" [min]="0" [max]="1000000"
          [step]="1" formControlName="commission">
        </p-inputNumber>
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'salary'|translate}}</label>
        <p-inputNumber class="p-inputnumber-md" [useGrouping]="false" [minFractionDigits]="3" [min]="0" [max]="1000000"
          [step]="1" formControlName="salary"></p-inputNumber>
      </div>



      <div class="col-12 md:col-6">
        <label class="model-label model-label-form">{{'mobile'|translate}}</label>
        <input pInputText type="text" class="p-inputtext-md" formControlName="mobile">
      </div>
    </div>
    <div class="grid p-fluid">
      <div class="col-12">
        <label class="model-label model-label-form">{{'branches'|translate}}</label>
        <p-multiSelect appendTo="body" [options]="branchList" formControlName="branches"
          [defaultLabel]="'selected'|translate" display="chip" optionLabel="name" optionValue="id">
        </p-multiSelect>
      </div>
    </div>

    <div class="grid p-fluid">

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form" for="notes">{{'notes'|translate}}</label>
        <textarea [rows]="1" [cols]="50" id="notes" formControlName="notes" pInputTextarea></textarea>
      </div>

      <div class="col-12 md:col-6">
        <label class="model-label model-label-form" for="address">{{'address'|translate}}</label>
        <textarea [rows]="1" [cols]="50" id="address" formControlName="address" pInputTextarea></textarea>
      </div>
    </div>
    <div class="field">
      <div class="formgrid grid">
        <div class="field-radiobutton col-6">
          <p-inputSwitch formControlName="is_superadmin"></p-inputSwitch>
          <label for="is_superadmin">{{'is_superadmin'|translate}}</label>
        </div>
      </div>
    </div>
    
    <div class="grid p-fluid">
      <div class="col-12 md:col-12 flex justify-content-end">
        <div class="absolute bottom-0  p-3">
          <button pButton pRipple  type="submit" label="{{'save'|translate}}" icon="pi pi-check"   [disabled]="userForm.invalid "></button>

        </div>
      </div>
    </div>
  </div>
</form>